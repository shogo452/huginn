import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as t}from"./index.CRC3r6US.js";import{B as a}from"./button.DQQCtRbS.js";import{c as S,C as j}from"./check.Bo3X_mHs.js";import"./index.BFQ2ER7t.js";import"./utils.CDN07tui.js";/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],N=S("copy",F);function B({initialKeywords:y,initialFeeds:w}){const[l,x]=t.useState(JSON.stringify(y,null,2)),[i,m]=t.useState(JSON.stringify(w,null,2)),[C,f]=t.useState(!1),[v,u]=t.useState(!1),[n,c]=t.useState(null),[o,d]=t.useState(null),h=s=>{try{return JSON.parse(s),!0}catch{return!1}},b=s=>{x(s),h(s)?c(null):c("Invalid JSON format")},k=s=>{m(s),h(s)?d(null):d("Invalid JSON format")},p=async(s,r)=>{try{await navigator.clipboard.writeText(s),r==="keywords"?(f(!0),setTimeout(()=>f(!1),2e3)):(u(!0),setTimeout(()=>u(!1),2e3))}catch(J){console.error("Failed to copy:",J)}},g=s=>{try{if(s==="keywords"){const r=JSON.parse(l);x(JSON.stringify(r,null,2)),c(null)}else{const r=JSON.parse(i);m(JSON.stringify(r,null,2)),d(null)}}catch{}};return e.jsxs("main",{className:"p-6 lg:p-8 lg:pt-8 max-w-4xl mx-auto",children:[e.jsxs("div",{className:"flex flex-col gap-2 mb-8",children:[e.jsx("h1",{className:"text-3xl lg:text-4xl font-normal tracking-tight text-foreground",children:"Configuration"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Edit and copy JSON configuration files"})]}),e.jsxs("div",{className:"flex flex-col gap-8",children:[e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h2",{className:"text-lg font-medium text-foreground",children:"keywords.json"}),n&&e.jsx("span",{className:"text-xs text-red-500",children:n})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(a,{variant:"outline",size:"sm",onClick:()=>g("keywords"),disabled:!!n,children:"Format"}),e.jsx(a,{variant:"outline",size:"sm",onClick:()=>p(l,"keywords"),className:"flex items-center gap-1.5",children:C?e.jsxs(e.Fragment,{children:[e.jsx(j,{className:"w-3.5 h-3.5"}),"Copied"]}):e.jsxs(e.Fragment,{children:[e.jsx(N,{className:"w-3.5 h-3.5"}),"Copy"]})})]})]}),e.jsx("textarea",{value:l,onChange:s=>b(s.target.value),className:`w-full h-[400px] p-4 font-mono text-sm bg-muted border rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-ring ${n?"border-red-500":"border-border"}`,spellCheck:!1})]}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h2",{className:"text-lg font-medium text-foreground",children:"feeds.json"}),o&&e.jsx("span",{className:"text-xs text-red-500",children:o})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(a,{variant:"outline",size:"sm",onClick:()=>g("feeds"),disabled:!!o,children:"Format"}),e.jsx(a,{variant:"outline",size:"sm",onClick:()=>p(i,"feeds"),className:"flex items-center gap-1.5",children:v?e.jsxs(e.Fragment,{children:[e.jsx(j,{className:"w-3.5 h-3.5"}),"Copied"]}):e.jsxs(e.Fragment,{children:[e.jsx(N,{className:"w-3.5 h-3.5"}),"Copy"]})})]})]}),e.jsx("textarea",{value:i,onChange:s=>k(s.target.value),className:`w-full h-[300px] p-4 font-mono text-sm bg-muted border rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-ring ${o?"border-red-500":"border-border"}`,spellCheck:!1})]})]})]})}export{B as ConfigEditor};
